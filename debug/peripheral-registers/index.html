<!DOCTYPE html>
<html>

<head>

  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <title>The peripherals registers view</title>
  <meta name="description" content="A family of Eclipse CDT extensions and tools for GNU ARM development">

  <meta property="og:title" content="The peripherals registers view" />
  <meta property="og:site_name" content="GNU ARM Eclipse" />


  <meta property="og:title" content="The peripherals registers view">

  <meta property="article:published_time" content="2015-09-12">





  <meta name="google-site-verification" content="NT_y3tqI_8mrd8gYA_FDWHT2-tkJExOC6KBkSnyZx6c" />

  <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
  
  <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/stylesheets/github-light.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print">

  <link rel="canonical" href="http://gnuarmeclipse.github.io/debug/peripheral-registers/">
  <link rel="alternate" type="application/rss+xml" title="GNU ARM Eclipse" href="http://gnuarmeclipse.github.io/feed.xml" />
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">

  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-16767008-16', 'auto');
    ga('send', 'pageview');

  </script>

</head>


<body>

<header>
  <div class="inner">
    <h1>GNU ARM Eclipse</h1>
    <h2>A family of Eclipse CDT extensions and tools for GNU ARM development</h2>
    <a href="http://github.com/gnuarmeclipse" class="button"><small>Follow me on</small> GitHub</a>
  </div>
</header>


<div id="content-wrapper">
<div class="inner clearfix">
      
<section id="main-content">


<h1 class="page-title">The peripherals registers view</h1>


<p>After the success of the <a href="/debug/jlink/" title="The J-Link hardware debugging Eclipse plug-in">J-Link plug-in</a>, which significantly reduced the configuration effort to start a debug session, the most requested feature was a way of examining/modifying the peripheral registers.</p>

<p>There were other solutions already available for this, but all required the availability of various hardware definitions files, plus the manual selection of the appropriate file for the current debug configuration.</p>

<p>The GNU ARM Eclipse plug-in approach is a more integrated one, based on <a href="http://www.keil.com/pack/doc/CMSIS/Pack/html/index.html">CMSIS Packs</a>. In fact the main reason for introducing the peripheral registers view only now was the need for the CMSIS Packs technology to mature and of course a CMSIS Packs Manager implementation.</p>

<h2 id="prerequisites">Prerequisites</h2>

<h3 id="the-packs-plug-ins">The Packs plug-ins</h3>

<p>The first thing required is the presence of the Packs plug-ins. To check if they are installed, use the <strong>About Eclipse</strong> menu and click the <strong>Installation Details</strong> button.</p>

<p><img src="http://gnuarmeclipse.livius.net/blog/wp-content/uploads/2014/10/PacksFeature.png" alt="Check the presence of the Packs plug-ins." /></p>

<p>If not present, it is recommended to first read the <a href="/plugins/packs-manager/" title="Packs manager">Packs manager</a> documentation page where installation details are also provided.</p>

<h3 id="install-required-packs">Install required packs</h3>

<p>Once the Packs plug-ins are available, and the list of available packages was retrieved, it is necessary to install the packages related to the devices used by the projects under development.</p>

<p>Please note that failure to do so will prevent the device selection window to make the desired device available for selection.</p>

<h3 id="associate-a-device-to-the-project">Associate a device to the project</h3>

<p>Even if a future release will automatically make this association via a wizard during project creation, it is still recommended to check it, and adjust if needed.</p>

<p>For more details, please visit the <a href="/eclipse/project/assign-device/" title="Associate a device to the project">separate page</a>.</p>

<p><img src="http://gnuarmeclipse.livius.net/blog/wp-content/uploads/2013/10/Devices.png" alt="Assigning a device to the project." /></p>

<h2 id="the-debug-configuration">The debug configuration</h2>

<p>With the device associated to the build configuration, the debug configuration is created and started the usual way:</p>

<ul>
  <li>select the .elf file</li>
  <li>right click, <strong>Debug As</strong> → <strong>Debug Configurations…</strong></li>
  <li>double click the <strong>GDB SEGGER J-Link Debugging</strong></li>
</ul>

<p><strong>Device name automatic configuration</strong></p>

<p>Since the device name is (should be) known, the J-Link <strong>Device name</strong> field is automatically configured with the CMSIS device name.</p>

<h2 id="the-peripherals-view">The Peripherals view</h2>

<p>After starting the debug session, the typical <strong>Debug</strong> perspective is shown.</p>

<p>New to this perspective is the <strong>Peripherals</strong> view, added to the right of the <strong>Registers</strong> view, in the same window with <strong>Variables</strong> and <strong>Breakpoints</strong>. If, for any reasons, this view is not shown, although the Packs plug-ins were installed, try to perform a <strong>Reset</strong> on the Debug perspective.</p>

<p><img src="http://gnuarmeclipse.livius.net/blog/wp-content/uploads/2013/10/PeripheralRegisters.png" alt="The peripheral registers view." /></p>

<p>The <strong>Peripherals</strong> view lists all peripherals available in the device hardware description .SVD file provided by the silicon vendor.</p>

<p>The list includes the peripheral name, the peripheral memory address, a short description and a check box that can be used to select the peripherals to be monitored in the debug session.</p>

<h2 id="maximal-peripherals-list">Maximal peripherals list</h2>

<p>Some silicon vendors, like ST, provide a single .SVD file for an entire family of devices. Although this avoids a lot of redundancy, with the current .SVD specifications it is not possible to filter out the devices not used by some family members, so in such cases expect to encounter peripherals that actually are not available in some devices.</p>

<h2 id="systemregisters">System registers</h2>

<p>The current SVD specifications do not cover very well if/how the vendor should define the system registers, like <strong>SysTick</strong>, <strong>NVIC</strong>, <strong>Debug</strong>, etc, so it is up to the silicon vendors how to do it; some define the system registers grouped in one single custom peripheral, some in multiple peripherals, and <strong>some do not even define all system registers</strong>.</p>

<h2 id="the-memory-monitors">The Memory monitors</h2>

<p>Since for most modern devices the peripherals are memory mapped devices, in the GNU ARM Eclipse implementation, selecting a peripheral in the Peripherals view does not open a separate window, but a standard <strong>Memory monitor</strong>, mapped to the corresponding peripheral memory area.</p>

<p>The peripheral monitors are listed in the same view with usual memory monitors, and preserve all common behaviour, like individual <strong>Remove</strong> or <strong>Remove All</strong>.</p>

<p>The difference comes in the custom rendering, represented as a tree in the right side of the window.</p>

<p>According to the SVD specifications, this tree can have the following nodes:</p>

<ul>
  <li>clusters of registers,</li>
  <li>arrays of clusters,</li>
  <li>registers</li>
  <li>arrays of registers</li>
  <li>bit fields.</li>
</ul>

<p>All of them are currently supported and depicted in a hierarchical way.</p>

<h2 id="special-access-registers">Special access registers</h2>

<p>According to SVD, registers or fields can have special access rights, like <strong>read-only</strong> (highlighted in light yellow) or <strong>write-only</strong> (highlighted in light blue).</p>

<h2 id="tool-tips">Tool tips</h2>

<p>By hovering the mouse over the peripheral monitor window, additional details are shown as tool tips. Different content is shown for different columns, for example the <strong>Register</strong> column will show detailed descriptions, the <strong>Address</strong> column will show offset and size, and the <strong>Value</strong> column will show reset value and mask.</p>

<h2 id="editing">Editing</h2>

<p>The values of the non read-only registers can be changed using <strong>in-place-editing</strong>, in the corresponding cell of the <strong>Value</strong> column.</p>

<p>Registers and fields are synchronised, editing the value of a field will also change the value of the parent register, and editing the value of a register will also change the affected fields.</p>

<h2 id="filtering">Filtering</h2>

<p>It is possible to filter the content of the peripheral monitor by register name. To enter the filtering conditions, right click anywhere in the monitor rendering window and select the <strong>Add Filter…</strong> action.</p>

<p><img src="http://gnuarmeclipse.livius.net/blog/wp-content/uploads/2014/10/PeripheralMenu.png" alt="Peripheral monitor menu." /></p>

<p>Note: In the initial release the functionality behind this menu needs more polishing…</p>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="zero-values">Zero values?</h3>

<p>The first question some people might raise is <em>“why so many peripherals have zero values?”</em>. Well, most probably because they are not enabled, so reading them leads usually to zeroes. Or because they do not exist for the actual device, and are present there because the silicon vendor provides a single file for the entire family.</p>

<h3 id="no-devices-available-install-packs-first">“No devices available, install packs first”</h3>

<p>If your devices window is empty, you did not read carefully the above steps. You need to update the list of available packages, then install the ones you need.</p>

<h2 id="support">Support</h2>

<p>In case you encounter bugs or problems, the usual SourceForge support trackers are available.</p>

<p>If you have problems with the actual registers/fields definitions, well, there isn’t much that we can do to fix them, but we still can forward your complains to ARM/Keil, to further forward them to the silicon vendors.</p>

<h2 id="credits">Credits</h2>

<p>The use of a memory monitor to view peripheral registers, and the look and feel of the interface was inspired by the (now defunct) <strong>Red Suite 5</strong> by <strong>Code Red</strong> (acquired by NXP). Many thanks for providing the inspiration!</p>




</section>

<aside id="sidebar">


<h4 id="latest-newsnews"><a href="/news">Latest News</a></h4>

<ul>
  <li><a href="/2015/08/19/plugins-v2.9.3-201508190739-released/">GNU ARM Eclipse plug-ins v2.9.3-201508190739 released</a></li>
  <li><a href="/2015/08/16/qemu-v2-3-50-20150816-released/">GNU ARM Eclipse QEMU v2.3.50-20150816*-dev released</a></li>
  <li><a href="/2015/08/07/plugins-v2.9.2-201508071246-released/">GNU ARM Eclipse plug-ins v2.9.2-201508071246 released</a></li>
  <li><a href="/2015/08/05/qemu-v2-3-50-20150805-released/">GNU ARM Eclipse QEMU v2.3.50-20150805*-dev released</a></li>
  <li><a href="/2015/08/05/qemu-v2-3-50-20150804-released/">GNU ARM Eclipse QEMU v2.3.50-20150804*-dev released</a></li>
</ul>

<hr />

<h4 id="gnu-arm-eclipse-home"><a href="/">GNU ARM Eclipse Home</a></h4>

<h4 id="featurespluginsfeatures"><a href="/plugins/features/">Features</a></h4>

<h4 id="downloads">Downloads</h4>

<ul>
  <li><a href="/downloads/">Overview</a></li>
  <li><a href="/plugins/download/">Plug-ins</a> (<a href="/developer/releases/">releases</a>)</li>
  <li>Windows Build Tools (<a href="/windows-build-tools/releases/">releases</a>)</li>
  <li>QEMU (<a href="/qemu/releases/">releases</a>)</li>
  <li>OpenOCD (<a href="/openocd/releases/">releases</a>)</li>
</ul>

<h4 id="install">Install</h4>

<ul>
  <li>Overview</li>
  <li><a href="/plugins/install/">Eclipse plug-ins install</a></li>
  <li><a href="/toolchain/install/">Toolchain(s) install</a></li>
  <li><a href="/windows-build-tools/install/">Windows build tools (make &amp; rm) install</a></li>
  <li>Debugging components
    <ul>
      <li><a href="/debug/install/">Overview</a></li>
      <li><a href="/debug/install/jlink/">SEGGER J-Link install</a></li>
      <li><a href="/openocd/install/">OpenOCD install</a></li>
      <li><a href="/qemu/install/">QEMU install</a></li>
    </ul>
  </li>
</ul>

<h4 id="important">Important</h4>

<ul>
  <li><a href="/eclipse/workspace/preferences/">Workspace preferences</a></li>
  <li><a href="/toolchain/path/">Toolchain path</a></li>
  <li><a href="/eclipse/project/portability/">Project portability</a></li>
</ul>

<h4 id="tutorials">Tutorials</h4>

<ul>
  <li><a href="/tutorials/blinky-arm/">Create a Blinky ARM test project</a></li>
  <li><a href="/tutorials/hello-arm/">Create a Hello ARM test project</a></li>
</ul>

<h4 id="how-to-use">How to use</h4>

<ul>
  <li><a href="/plugins/mbs/">The managed build plug-in</a></li>
  <li><a href="/plugins/packs-manager/">The packs manager (CMSIS)</a></li>
  <li><a href="/eclipse/project/assign-device/">Assign a device</a></li>
</ul>

<h4 id="templates">Templates</h4>

<ul>
  <li><a href="/templates/overview/">Overview</a></li>
  <li><a href="/templates/cortexm/">Cortex-M template</a></li>
  <li><a href="/templates/stm32f/">STM32Fxx template</a></li>
  <li><a href="/templates/klxx/">Freescale KLxx templates</a></li>
</ul>

<h4 id="debugging">Debugging</h4>

<ul>
  <li><a href="/debug/overview/">Overview</a></li>
  <li><a href="/debug/jlink/">The SEGGER J-Link plug-in</a></li>
  <li><a href="/debug/openocd/">The OpenOCD plug-in</a></li>
  <li><a href="/debug/qemu/">The QEMU plug-in</a></li>
  <li><a href="/debug/peripheral-registers/">The peripheral registers view (CMSIS)</a></li>
</ul>

<h4 id="gnu-arm-qemu-homeqemu"><a href="/qemu/">GNU ARM QEMU Home</a></h4>

<ul>
  <li><a href="/qemu/overview/">Overview</a> (read me first!)</li>
  <li><a href="/qemu/install/">QEMU Install</a></li>
  <li><a href="/debug/qemu/">Eclipse plug-in</a></li>
  <li><a href="/qemu/build-procedure/">How to build</a></li>
  <li><a href="/qemu/releases/">Releases</a></li>
  <li><a href="https://github.com/gnuarmeclipse/qemu/issues/1/">Support</a> (report issue)</li>
</ul>

<h4 id="gnu-arm-openocd-homeopenocd"><a href="/openocd/">GNU ARM OpenOCD Home</a></h4>

<ul>
  <li><a href="/openocd/overview/">Overview</a> (read me first!)</li>
  <li><a href="/openocd/install/">OpenOCD Install</a></li>
  <li><a href="/debug/openocd/">The OpenOCD plug-in</a></li>
  <li><a href="/openocd/build-procedure/">How to build</a></li>
  <li><a href="/openocd/releases/">Releases</a></li>
  <li><a href="https://github.com/gnuarmeclipse/openocd/issues/1/">Support</a>  (report issue)</li>
</ul>

<h4 id="windows-build-tools-homewindows-build-tools"><a href="/windows-build-tools/">Windows Build Tools Home</a></h4>

<ul>
  <li><a href="/windows-build-tools/overview/">Overview</a> (read me first!)</li>
  <li><a href="/windows-build-tools/install/">Windows Build Tools Install</a></li>
  <li><a href="/windows-build-tools/build-procedure/">How to build</a></li>
  <li><a href="/windows-build-tools/releases/">Releases</a></li>
  <li><a href="https://github.com/gnuarmeclipse/windows-build-tools/issues/1/">Support</a> (report issue)</li>
</ul>

<h4 id="advanced">Advanced</h4>

<ul>
  <li><a href="/advanced/headless-builds/">Headless builds</a></li>
</ul>

<h4 id="supportsupportoverview"><a href="/support/overview/">Support</a></h4>

<ul>
  <li><a href="/support/overview/">Overview</a></li>
  <li><a href="/support/known-issues/">Known issues</a></li>
  <li><a href="/support/faq/">FAQ</a></li>
  <li><a href="/support/sourceforge/">SourceForge tickets</a></li>
  <li><a href="https://github.com/gnuarmeclipse/gnuarmeclipse/issues/1">Report plug-ins issue</a></li>
</ul>

<h4 id="developerdeveloper"><a href="/developer/">Developer</a></h4>

<ul>
  <li><a href="/developer/build-procedure">How to build</a></li>
  <li><a href="/developer/publish-procedure">How to publish</a></li>
  <li><a href="/developer/change-log">Change log</a></li>
  <li><a href="/developer/contribute/">Contribute</a></li>
</ul>

<h4 id="articles">Articles</h4>
<ul>
  <li><a href="/articles/arm-com-2014-07/">GNU ARM Eclipse: open source tools with (experimental) CMSIS Pack support</a></li>
</ul>

<h4 id="licenses">Licenses</h4>
<ul>
  <li><a href="/licenses/plug-ins/">Eclipse plug-ins</a></li>
  <li>Tools</li>
</ul>

<h4 id="finance">Finance</h4>
<ul>
  <li><a href="/finance/sponsorship/">Sponsorship</a></li>
</ul>

<h4 id="aboutabout"><a href="/about/">About</a></h4>

<hr />

<p>This site uses the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>


<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="NXKFN7DJH8DJ6">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>


</aside>

</div>

</div>


  
</body>

</html>
